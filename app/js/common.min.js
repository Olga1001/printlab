
$(document).ready(function () {
    //For Firefox we have to handle it in JavaScript
    var vids = $("video");
    $.each(vids, function(){
        this.controls = false;
    });
//Loop though all Video tags and set Controls as false

    $("video").click(function() {
        //console.log(this);
        if (this.paused) {
            this.play();
        } else {
            this.pause();
        }
    });

    $(".owl-carousel").owlCarousel({dots: true, autoplay: false, loop: true, responsive: {0: {items: 1}}});
    $(".owl-carousel-mobile").owlCarousel({dots: true, autoplay: false, loop: true, responsive: {0: {items: 1}}});
    $(".owl-carousel-main-block").owlCarousel({
        autoplay: true,
        loop: true,
        dots: false,
        responsive: {0: {items: 1}},
        animateOut: "fadeOut",
        transitionStyle: "fade"
    });
    $.ajaxSetup({cache: false});
    $.ajax({
        url: "ajax/constructor.html", success: function (a) {
            $("#constructor").html(a)
        }
    });
    if (window.matchMedia("(max-width: 768px)").matches) {
        $("a#reviews-btn").attr("href", "#reviews-mob")
    }
    // if (window.matchMedia("(min-width: 992px)").matches) {
    //     //styck-head
    //     $(window).on('scroll', function() {
    //         if($(window).scrollTop() >= 0){
    //             $('body').addClass('header-scrolled');
    //         }else{
    //             $('body').removeClass('header-scrolled');
    //         };
    //     });
    // }
    $("#scrollup").mouseover(function () {
        $(this).animate({opacity: 0.65}, 300)
    }).mouseout(function () {
        $(this).animate({opacity: 1}, 300)
    }).click(function () {
        return $("body,html").animate({scrollTop: 0}, 800), !1
    }), $(window).scroll(function () {
        $(document).scrollTop() > 300 ? jQuery("#scrollup").fadeIn("fast") : jQuery("#scrollup").fadeOut("fast")
    });
    $(".form__site").submit(function () {
        var b = $(this);
        var a = false;
        b.find('input[name="phone"]').each(function () {
            if ($(this).val() == "") {
                alert("Зaпoлнитe номер телефона!");
                a = true
            }
        });
        if (!a) {
            var c = b.serialize();
            $.ajax({
                type: "POST", url: "mail.php", dataType: "json", data: c, beforeSend: function (d) {
                    b.find('input[type="submit"]').attr("disabled", "disabled")
                }, success: function (d) {
                    if (d.error) {
                        alert(d.error)
                    } else {
                        $("#myModal-thanks").modal("show");
                        ga('send', 'event', {eventCategory: 'заявка', eventAction: 'отправить'});
                        setTimeout("$('#myModal-thanks .close').trigger('click')", 3000);
                        setTimeout("$('.close').trigger('click')", 4000)
                    }
                }, error: function (f, d, e) {
                    alert(f.status);
                    alert(e)
                }, complete: function (d) {
                    b.find('input[type="submit"]').prop("disabled", false);
                    /*fbq('track', 'Lead_Sale');
                    // yaCounter41828994.reachGoal('general');
                    ga('send', 'event', { eventCategory: 'general', eventAction: 'click', eventLabel: 'lead'})*/
                }
            })
        }
        return false
    })
});
(function (a) {
    a(function () {
        a(".selectpicker").styler()
    })
})(jQuery);

(function (a) {
    a(function () {
        a(".first-form").each(function () {
            var e = a(this), c = e.find(".button-sumbit");
            e.find(".rfield").addClass("empty_field");
            function b() {
                e.find(".rfield").each(function () {
                    if (a(this).val() != "") {
                        a(this).removeClass("empty_field")
                    } else {
                        a(this).addClass("empty_field")
                    }
                })
            }

            function d() {
                e.find(".empty_field").css({
                    "border-color": "#d8512d",
                    "box-shadow": "0px 0px 15px 2px rgba(216,81,45,1)",
                    transition: "all 0.5s"
                });
                setTimeout(function () {
                    e.find(".empty_field").removeAttr("style")
                }, 3000)
            }

            setInterval(function () {
                b();
                var f = e.find(".empty_field").size();
                if (f > 0) {
                    if (c.hasClass("disabled")) {
                        return false
                    } else {
                        c.addClass("disabled")
                    }
                } else {
                    c.removeClass("disabled")
                }
            }, 500);
            c.click(function () {
                if (a(this).hasClass("disabled")) {
                    d();
                    return false
                } else {
                }
            })
        })
    })
})(jQuery);
function withoutCyr(a) {
    var c = a.value;
    var b = /а|б|в|г|д|е|ё|ж|з|и|й|к|л|м|н|о|п|р|с|т|у|ф|х|ц|ч|ш|щ|ъ|ы|ь|э|ю|я/gi;
    if (b.test(c)) {
        c = c.replace(b, "");
        a.value = c
    }
}
function openNav() {
    document.getElementById("sw-opt-mob").style.display = "block";
    document.getElementById("overlay-mob").style.display = "block"
}
function closeNav() {
    document.getElementById("sw-opt-mob").style.display = "none";
    document.getElementById("overlay-mob").style.display = "none"
}
function openNav1() {
    document.getElementById("prnt-opt-mob").style.display = "block";
    document.getElementById("overlay-mob1").style.display = "block"
}
function closeNav1() {
    document.getElementById("prnt-opt-mob").style.display = "none";
    document.getElementById("overlay-mob1").style.display = "none"
}
document.getElementById("custom-form").addEventListener("submit", function (a) {
    var b = new XMLHttpRequest(), c = this;
    a.preventDefault();
    b.open("POST", "filesend.php", true);
    b.onreadystatechange = function () {
        if (b.readyState == 4 && b.status == 200) {
            $("#myModal-thanks").modal("show");
            ga('send', 'event', { eventCategory: 'generalfoto', eventAction: 'click', eventLabel: 'lead'});
            fbq('track', 'Lead_Sale');
        }
    };
    b.onerror = function () {
        alert("Извините, данные не были переданы")
    };
    b.send(new FormData(c))
}, false);
// jQuery(function ($) {
//     $(".phone-inpts").mask("+38(999)999-99-99", {placeholder: "+38(___)___-__-__"});
// });
$(document).ready(function () {
    $(".owl-carousel-line").owlCarousel({
        dots: false,
        autoplay: true,
        autoplayTimeout: 2000,
        loop: true,
        responsive: {0: {items: 1}, 768: {items: 4}}
    });
});
$(document).ready(function () {
    $(".fancybox").fancybox();
});
(function ($) {
    $(function () {
        $('#custom-form').each(function () {
            var form = $(this), btn = form.find('.button-sumbit');
            form.find('.rfield').addClass('empty_field');
            function checkInput() {
                form.find('.rfield').each(function () {
                    if ($(this).val() != '') {
                        $(this).removeClass('empty_field');
                        //fbq('track', 'Lead_Sale');
                        // yaCounter41828994.reachGoal('general');
                        //ga('send', 'event', { eventCategory: 'generalfoto', eventAction: 'click', eventLabel: 'lead'})
                    } else {
                        $(this).addClass('empty_field');
                    }
                });
            }

            function lightEmpty() {
                form.find('.empty_field').css({
                    'border-color': '#d8512d',
                    'box-shadow': '0px 0px 15px 2px rgba(216,81,45,1)',
                    'transition': 'all 0.5s'
                });
                setTimeout(function () {
                    form.find('.empty_field').removeAttr('style');
                }, 3000);
            }

            // setInterval(function () {
            //     checkInput();
            //     var sizeEmpty = form.find('.empty_field').size();
            //     if (sizeEmpty > 0) {
            //         if (btn.hasClass('disabled')) {
            //             return false
            //         } else {
            //             btn.addClass('disabled')
            //         }
            //     } else {
            //         btn.removeClass('disabled')
            //     }
            // }, 500);
            btn.click(function () {
                if ($(this).hasClass('disabled')) {
                    lightEmpty();
                    return false
                } else {
                }
                jQuery('#myModal-custom').click()
            });
        });
    });
})(jQuery);
function openNav3() {
    document.getElementById("mySidenav3").style.width = "250px";
}
function closeNav3() {
    document.getElementById("mySidenav3").style.width = "0";
}
$("#h-menu-for-mobile").clone().appendTo("#mySidenav3");
$(document).ready(function () {

    $(".twice-sweet-wrap-hidden").css("display", "none"), $(".twice-sweet-wrap-toggle").click(function (a) {
        a.preventDefault(), $(".twice-sweet-wrap-hidden").slideToggle("slow"), $("html, body").animate({scrollTop: $(".twice-sweet-wrap-hidden").offset().top}, "slow")
    });
    $('.item-of-menu').on('click', function(e) {
        e.preventDefault();
        $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top - 30 }, 'slow');
        return false;
    });

});